//
//     Generated by class-dump 3.5 (64 bit) (Debug version compiled Sep 17 2017 16:24:48).
//
//     class-dump is Copyright (C) 1997-1998, 2000-2001, 2004-2015 by Steve Nygard.
//

#import <objc/NSObject.h>

@class KSYCounter, NSDictionary, NSMutableArray, NSString, NSURL;
@protocol OS_dispatch_queue, OS_dispatch_semaphore;

@interface KSYClipWriter : NSObject
{
    struct AVStream *_ffVStream;
    struct AVStream *_ffAStream;
    struct AVStream *_ffMStream;
    struct AVFormatContext *_fmtCtx;
    NSObject<OS_dispatch_queue> *v_enc_q;
    NSObject<OS_dispatch_queue> *a_enc_q;
    NSObject<OS_dispatch_semaphore> *_sendSem;
    NSObject<OS_dispatch_semaphore> *_audioSem;
    struct AVFrame *_vframe;
    struct AVFrame *_aframe;
    int _vFrameCnt;
    int _aFrameCnt;
    _Bool _updateExtradata;
    _Bool _keyframeRequest;
    long long _ffVideoDtsOffset;
    long long _ffAudioDtsOffset;
    long long _lastAudioTime;
    long long _lastVideoDts;
    CDStruct_c5d49230 _inputPCMBuf;
    long long _bufDuration;
    struct URLContext *_ffRtmpURLCtx;
    int _encVTime[5];
    long long _totalEncVTime;
    long long _inVpts;
    long long _inApts;
    long long _initVpts;
    struct opaqueCMSampleBuffer *_vEncQSB;
    struct __CVBuffer *_vEncQPB;
    long long _lastBenchMarkTime;
    int _lastUploadKBytes;
    int _lastPktVKB;
    int _lastPktAByte;
    int _pktVKB;
    int _pktAByte;
    int _lastFrameCnt;
    int _lastAFrameCnt;
    _Bool _bMuteStream;
    KSYCounter *_ksyCounter;
    _Bool _needTakePhoto;
    CDUnknownBlockType _takeSnapshotBlock;
    _Bool _bLocalFile;
    long long _max_interleave_delta;
    int _uploadKBOnReachable;
    _Bool _bKeyPktHeader;
    _Bool _bWriteHeader;
    int _preBufferSize;
    NSMutableArray *_preBuffer;
    _Bool _bWithVideo;
    _Bool _bWithAudio;
    _Bool _mp4FastStart;
    _Bool _shouldEnableKSYDropModule;
    int _encodedFrames;
    int _videoFPS;
    int _videoInitBitrate;
    float _maxKeyInterval;
    int _audiokBPS;
    int _videoCrf;
    unsigned long long _videoCodec;
    double _encodeVKbps;
    double _encodeAKbps;
    double _encodingFPS;
    NSURL *_hostURL;
    unsigned long long _audioCodec;
    NSDictionary *_streamMetaData;
    NSDictionary *_videoMetaData;
    unsigned long long _liveScene;
    unsigned long long _recScene;
    unsigned long long _videoEncodePerf;
    unsigned long long _writeState;
    unsigned long long _streamErrorCode;
    CDUnknownBlockType _writeStateChange;
    CDUnknownBlockType _videoFPSChange;
    CDUnknownBlockType _logBlock;
    double _jpegCompressionQuality;
    NSString *_fileName;
}

@property(retain) NSString *fileName; // @synthesize fileName=_fileName;
@property double jpegCompressionQuality; // @synthesize jpegCompressionQuality=_jpegCompressionQuality;
@property(nonatomic) _Bool shouldEnableKSYDropModule; // @synthesize shouldEnableKSYDropModule=_shouldEnableKSYDropModule;
@property(copy, nonatomic) CDUnknownBlockType logBlock; // @synthesize logBlock=_logBlock;
@property(copy, nonatomic) CDUnknownBlockType videoFPSChange; // @synthesize videoFPSChange=_videoFPSChange;
@property(copy, nonatomic) CDUnknownBlockType writeStateChange; // @synthesize writeStateChange=_writeStateChange;
@property(readonly, nonatomic) unsigned long long streamErrorCode; // @synthesize streamErrorCode=_streamErrorCode;
@property(readonly, nonatomic) unsigned long long writeState; // @synthesize writeState=_writeState;
@property(nonatomic) _Bool mp4FastStart; // @synthesize mp4FastStart=_mp4FastStart;
@property(nonatomic) _Bool bWithAudio; // @synthesize bWithAudio=_bWithAudio;
@property(nonatomic) unsigned long long videoEncodePerf; // @synthesize videoEncodePerf=_videoEncodePerf;
@property(nonatomic) int videoCrf; // @synthesize videoCrf=_videoCrf;
@property(nonatomic) unsigned long long recScene; // @synthesize recScene=_recScene;
@property(nonatomic) unsigned long long liveScene; // @synthesize liveScene=_liveScene;
@property(nonatomic) int audiokBPS; // @synthesize audiokBPS=_audiokBPS;
@property(nonatomic) float maxKeyInterval; // @synthesize maxKeyInterval=_maxKeyInterval;
@property(copy) NSDictionary *videoMetaData; // @synthesize videoMetaData=_videoMetaData;
@property(copy) NSDictionary *streamMetaData; // @synthesize streamMetaData=_streamMetaData;
@property(nonatomic) int videoInitBitrate; // @synthesize videoInitBitrate=_videoInitBitrate;
@property(nonatomic) unsigned long long audioCodec; // @synthesize audioCodec=_audioCodec;
@property(nonatomic) int videoFPS; // @synthesize videoFPS=_videoFPS;
@property(readonly, nonatomic) NSURL *hostURL; // @synthesize hostURL=_hostURL;
@property(nonatomic) _Bool bWithVideo; // @synthesize bWithVideo=_bWithVideo;
@property(nonatomic) unsigned long long videoCodec; // @synthesize videoCodec=_videoCodec;
- (void).cxx_destruct;
- (id)getCurKSYWriteErrorCodeName;
- (id)getKSYWriteErrorCodeName:(unsigned long long)arg1;
@property(readonly, nonatomic) int encodedFrames; // @synthesize encodedFrames=_encodedFrames;
@property(readonly, nonatomic) double encodingFPS; // @synthesize encodingFPS=_encodingFPS;
@property(readonly, nonatomic) double encodeAKbps; // @synthesize encodeAKbps=_encodeAKbps;
@property(readonly, nonatomic) double encodeVKbps; // @synthesize encodeVKbps=_encodeVKbps;
- (id)getCurWriteStateName;
- (id)getWriteStateName:(unsigned long long)arg1;
- (void)becameActive;
- (void)enterBackground;
- (void)unregisterActive;
- (void)registerActive;
- (void)updateVideoFPS:(int)arg1 msg:(id)arg2;
- (void)updateEstBw:(long long)arg1 msg:(id)arg2;
- (void)audioSended;
- (void)videoSended;
- (void)benchMarks:(long long)arg1;
- (void)setupCounter;
- (void)processAudioSampleBuffer:(struct opaqueCMSampleBuffer *)arg1;
- (void)processVideoPixelBuffer:(struct __CVBuffer *)arg1 timeInfo:(CDStruct_1b6d18a9)arg2 onComplete:(CDUnknownBlockType)arg3;
- (void)processVideoPixelBuffer:(struct __CVBuffer *)arg1 timeInfo:(CDStruct_1b6d18a9)arg2;
- (void)processVideoSampleBuffer:(struct opaqueCMSampleBuffer *)arg1 onComplete:(CDUnknownBlockType)arg2;
- (void)processVideoSampleBuffer:(struct opaqueCMSampleBuffer *)arg1;
- (_Bool)isWriting;
- (void)flushRtmpSend;
- (int)sendPacketInternal:(struct AVPacket *)arg1 isVideo:(_Bool)arg2 priority:(int)arg3;
- (int)sendPacket:(struct AVPacket *)arg1 isVideo:(_Bool)arg2 priority:(int)arg3;
- (void)removePrebufferHead;
- (struct AVPacket *)getPrebufferHead:(_Bool *)arg1 iPrio:(int *)arg2;
- (void)encodeAudio:(struct opaqueCMSampleBuffer *)arg1;
- (int)saveInputPCM:(struct opaqueCMSampleBuffer *)arg1;
- (int)readAFrame:(struct AVFrame *)arg1;
- (void)flushVideoEncoder;
- (void)encodeVideo:(struct __CVBuffer *)arg1 timeInfo:(long long)arg2;
- (void)restartVideoCodec:(struct __CVBuffer *)arg1;
- (void)muteStream:(_Bool)arg1;
- (void)stopWriting:(CDUnknownBlockType)arg1;
- (void)stopWriting;
- (void)closeStream;
- (void)startConnection;
- (void)startWritingWith:(id)arg1;
- (struct AVStream *)setupAudioEncoder:(struct opaqueCMSampleBuffer *)arg1;
- (struct AVStream *)setupVideoEncoder:(struct __CVBuffer *)arg1 toSteam:(struct AVStream *)arg2;
- (void)newStreamErrorState:(unsigned long long)arg1;
- (void)postStateErrorNotification:(unsigned long long)arg1;
- (void)newStreamState:(unsigned long long)arg1;
- (id)getKSYVersion;
- (void)clearStatusProperty;
- (void)resetStreamer;
- (void)dealloc;
- (id)initWithDefaultCfg;
- (id)initWithOutputUrl:(id)arg1;
- (id)init;

@end

